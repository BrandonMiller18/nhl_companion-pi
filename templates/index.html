{% extends "base.html" %}
{% block title %}NHL Companion | Hockey Goal Horn App{% endblock %}
{% block desc %} Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum et ipsa facilis in, quidem voluptatum pariatur facere numquam qui corrupti ea, consequuntur itaque libero, autem consectetur officiis enim odit. Atque. {% endblock %}

{% block body %}

    <div id="configure" class="container bg-dark pt-5">
        <h1>NHL Companion</h1>
        <form class="configuration-form" action="/update" method="POST">
            <label for="user_team">Select your team:</label>
            <select name="user_team" id="">
                {% for team in team_abbreviations %}
                    <option value="{{team}}">{{team}}</option>
                {% endfor %}
            </select>
            <label for="stream_delay">Set stream delay:</label>
            <input type="text" name="stream_delay" id="">
            <input type="submit">
        </form>
        {% if data %}
        <table>
            <tr>
                <th>Current Team</th>
                <td>{{ data['user_team'] }}</td>
            </tr>
            <tr>
                <th>Stream Delay</th>
                <td>{{ data['stream_delay'] }}</td>
            </tr>
        </table>
        {% endif %}
        <a class="btn btn-info btn-lg mt-2" href="{{url_for('start_game')}}" onclick="$('#configure').hide();$('#running').removeAttr('hidden');">Start App</a>
    </div>

    <div id="running" class="container bg-dark pt-5" hidden>
        <p style="color: #fff;">App is running. Click the butotn below to cancel the app.</p>
        <button class="btn btn-primary" onclick="$.get('/_end-game')">Cancel</button>
    </div>

{% endblock %}